export const CoHoDorms = [
  {
    label: "11 Fairmount Street",
    path: "11Fairmount",
    path2: "11Fairmount-room",
    path3: "11Fairmount-rate",
  },
  {
    label: "21 Fairmount Street",
    path: "21Fairmount",
    path2: "21Fairmount-room",
    path3: "21Fairmount-rate",
  },
  {
    label: "11 Bellevue Street (Charles W. Tu House)",
    path: "11Bellevue",
    path2: "11Bellevue-room",
    path3: "11Bellevue-rate",
  },
  {
    label: "12 Bellevue Street (Green House)",
    path: "12Bellevue/1",
    unit: [
      {
        label: "Unit 2",
        name: "12 Bellevue Street - Unit 1",
        url: "12Bellevue/2",
        path: "12Bellevue-1",
        path2: "12Bellevue-1-room",
        path3: "12Bellevue-1-rate",
      },
      {
        label: "Unit 1",
        name: "12 Bellevue Street - Unit 2",
        url: "12Bellevue/1",
        path: "12Bellevue-2",
        path2: "12Bellevue-2-room",
        path3: "12Bellevue-2-rate",
      },
    ],
  },
  {
    label: "14-16 Bellevue Street",
    path: "14-16Bellevue",
    unit: [
      {
        label: "14 Bellevue",
        url: "14-16Bellevue",
        path: "14Bellevue-1",
        path2: "14Bellevue-1-room",
        path3: "14Bellevue-1-rate",
      },
      {
        label: "16 Bellevue",
        url: "14-16Bellevue",
        path: "16Bellevue-2",
        path2: "16Bellevue-2-room",
        path3: "16Bellevue-2-rate",
      },
    ],
  },
  {
    label: "15 Bellevue Street (Loring W. Tu House)",
    path: "15Bellevue/2",
    unit: [
      {
        label: "Unit 1",
        name: "15 Bellevue Street - Unit 1",
        url: "15Bellevue/1",
        path: "15Bellevue-1",
        path2: "15Bellevue-1-room",
        path3: "15Bellevue-1-rate",
      },
      {
        label: "Unit 2",
        name: "15 Bellevue Street - Unit 2",
        url: "15Bellevue/2",
        path: "15Bellevue-2",
        path2: "15Bellevue-2-room",
        path3: "15Bellevue-2-rate",
      },
    ],
  },
  {
    label: "19 Bellevue Street",
    path: "19Bellevue",
    unit: [
      {
        label: "Unit 1",
        url: "19Bellevue/1",
        path: "19Bellevue-1",
        path2: "19Bellevue-1-room",
        path3: "19Bellevue-1-rate",
      },
      {
        label: "Unit 2",
        url: "19Bellevue/2",
        path: "19Bellevue-2",
        path2: "19Bellevue-2-room",
        path3: "19Bellevue-2-rate",
      },
    ],
  },
  {
    label: "21-23 Bellevue Street",
    path: "21-23Bellevue/1",
    unit: [
      {
        label: "21 Bellevue",
        name: "23 Bellevue Street",
        url: "21-23Bellevue/2",
        path: "23Bellevue",
        path2: "23Bellevue-room",
        path3: "23Bellevue-rate",
      },
      {
        label: "23 Bellevue",
        name: "21 Bellevue Street",
        url: "21-23Bellevue/1",
        path: "21Bellevue",
        path2: "21Bellevue-room",
        path3: "21Bellevue-rate",
      },
    ],
  },
  {
    label: "22 Bellevue Street",
    path: "22Bellevue",
    path2: "22Bellevue-room",
    path3: "22Bellevue-rate",
  },
  {
    label: "19-21 University Avenue",
    path: "19-21University/1",
    unit: [
      {
        label: "19 University",
        name: "19 University Ave",
        url: "19-21University/2",
        path: "19University",
        path2: "19University-room",
        path3: "19University-rate",
      },
      {
        label: "21 University",
        name: "21 University Ave",
        url: "19-21University/1",
        path: "21University",
        path2: "21University-room",
        path3: "21University-rate",
      },
    ],
  },
  {
    label: "4-6 Capen Street",
    path: "4-6Capen",
    unit: [
      {
        label: "4 Capen",
        name: "4 Capen Street",
        url: "4-6Capen",
        path: "4Capen",
        path2: "4Capen-room",
        path3: "4Capen-rate",
      },
      {
        label: "6 Capen Street",
        url: "4-6Capen",
        path: "6Capen",
        path2: "6Capen-room",
        path3: "6Capen-rate",
      },
    ],
  },
  {
    label: "43-45 Winthrop Street",
    path: "43-45Winthrop/1",
    unit: [
      {
        label: "Unit 3",
        name: "43-45 Winthrop Street - Unit 3",
        url: "43-45Winthrop/3",
        path: "43-45Winthrop-3",
        path2: "43-45Winthrop-3-room",
        path3: "43-45Winthrop-3-rate",
      },
      {
        label: "Unit 2",
        name: "43-45 Winthrop Street - Unit 2",
        url: "43-45Winthrop/2",
        path: "43-45Winthrop-2",
        path2: "43-45Winthrop-2-room",
        path3: "43-45Winthrop-2-rate",
      },
      {
        label: "Unit 1",
        url: "43-45Winthrop/1",
        path: "43-45Winthrop-1",
        path2: "43-45Winthrop-1-room",
        path3: "43-45Winthrop-1-rate",
      },
    ],
  },
  {
    label: "44-46 Winthrop Street",
    path: "44-46Winthrop/1",
    unit: [
      {
        label: "44 Winthrop",
        name: "44 Winthrop Street",
        url: "44-46Winthrop/1",
        path: "44Winthrop",
        path2: "44Winthrop-room",
        path3: "44Winthrop-rate",
      },
      {
        label: "46 Winthrop",
        name: "46 Winthrop Street",
        url: "44-46Winthrop/2",
        path: "46Winthrop",
        path2: "46Winthrop-room",
        path3: "46Winthrop-rate",
      },
    ],
  },
  {
    label: "47 Winthrop Street",
    path: "47Winthrop/1",
    unit: [
      {
        label: "Unit 1",
        name: "47 Winthrop Street - Unit 1",
        url: "47Winthrop/1",
        path: "47Winthrop-1",
        path2: "47Winthrop-1-room",
        path3: "47Winthrop-1-rate",
      },
      {
        label: "Unit 2",
        name: "47 Winthrop Street - Unit 2",
        url: "47Winthrop/2",
        path: "47Winthrop-2",
        path2: "47Winthrop-2-room",
        path3: "47Winthrop-2-rate",
      },
    ],
  },
  {
    label: "50 Winthrop Street",
    path: "50Winthrop",
    unit: [
      {
        label: "Unit 1",
        url: "50Winthrop",
        path: "50Winthrop-1",
        path2: "50Winthrop-1-room",
        path3: "50Winthrop-1-rate",
      },
      {
        label: "Unit 2",
        url: "50Winthrop",
        path: "50Winthrop-2",
        path2: "50Winthrop-2-room",
        path3: "50Winthrop-2-rate",
      },
      {
        label: "Unit 3",
        url: "50Winthrop",
        path: "50Winthrop-3",
        path2: "50Winthrop-3-room",
        path3: "50Winthrop-3-rate",
      },
    ],
  },
];

const getUnitConfig = (buildingConfig, unitName) => {
  if (buildingConfig.unit) {
    return buildingConfig.unit.find(
      (c) => c.label === unitName || c.name === unitName,
    );
  }

  if (Array.isArray(buildingConfig) && unitName) {
    return buildingConfig.find(
      (c) => c.label === unitName || c.name === unitName,
    );
  }

  return buildingConfig;
};

/*
  There are 3 types of dorms:

  1. Building with only one unite
  2. Building with multiple units, and have separate url paths for each building
    like coho/19-21University/1 for 21 University
    and coho/19-21University/2 for 19 University
  3. Building with multiple units, but they share the same url path, because 
  there isn't a floor plan

  For type #1, only buildingConfig is needed
  For type #2, buildingConfig and unitConfig are both needed
  For type #3, buildingConfig and unitConfig are both needed, but the
    second parameter, aka unitName, shouldn't be passed in
*/
export const config = (buildingName, unitName) => {
  const target = CoHoDorms.find((d) => d.label === buildingName);
  const buildingConfig = target.unit ? target.unit : target;
  const unitConfig = getUnitConfig(buildingConfig, unitName);

  return { buildingConfig, unitConfig };
};
